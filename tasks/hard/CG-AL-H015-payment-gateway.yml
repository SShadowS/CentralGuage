id: CG-AL-H015
prompt_template: code-gen.md
fix_template: bugfix.md
max_attempts: 2
description: >-
  1. Define an Interface named "Payment Gateway".
     - Procedure: Authorize(Amount: Decimal): Boolean
     - Procedure: GetGatewayName(): Text

  2. Create a Codeunit (ID 70215) named "PayPal Provider" that implements "Payment Gateway".
     - Authorize: Returns true if Amount < 1000.
     - GetGatewayName: Returns 'PayPal'.

  3. Create a Codeunit (ID 70216) named "Credit Card Provider" that implements "Payment Gateway".
     - Authorize: Always returns true.
     - GetGatewayName: Returns 'Credit Card'.

  4. Create a Codeunit (ID 70217) named "Payment Service".
     - Procedure: Process(Gateway: Interface "Payment Gateway"; Amount: Decimal): Text
     - Logic: 
       Call the gateway's Authorize method.
       If true, return: 'Authorized by [GatewayName]'.
       If false, return: 'Declined by [GatewayName]'.
expected:
  compile: true
  testApp: tests/al/hard/CG-AL-H015.Test.al
metrics:
  - compile_pass
  - tests_pass
  - pass_attempt